<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>The schema class (S4) and its methods — schema-class • tabshiftr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="The schema class (S4) and its methods — schema-class"><meta property="og:description" content="A schema stores the information of where which information is stored
in a table of data."><meta property="og:image" content="http://EhrmannS.github.io/tabshiftr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabshiftr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/tabshiftr.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://www.twitter.com/DerEhrmann" class="external-link">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/EhrmannS/tabshiftr" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The <code>schema</code> class (S4) and its methods</h1>
    <small class="dont-index">Source: <a href="https://github.com/EhrmannS/tabshiftr/blob/HEAD/R/schema.R" class="external-link"><code>R/schema.R</code></a></small>
    <div class="hidden name"><code>schema-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A <code>schema</code> stores the information of where which information is stored
in a table of data.</p>
    </div>


    <div id="slots">
    <h2>Slots</h2>
    

<dl><dt><code>cluster</code></dt>
<dd><p>[<code>list(1)</code>]<br> description of
<code><a href="setCluster.html">clusters</a></code> in the table.</p></dd>


<dt><code>format</code></dt>
<dd><p>[<code>list(1)</code>]<br> description of the table
<code><a href="setFormat.html">format</a></code></p></dd>


<dt><code>variables</code></dt>
<dd><p>[<code>named list(.)</code>]<br> description of
<code><a href="setIDVar.html">identifying</a></code> and <code><a href="setObsVar.html">observed</a></code>
variables.</p></dd>


</dl></div>
    <div id="setting-up-schema-descriptions">
    <h2>Setting up schema descriptions</h2>
    <p>This section outlines the currently
  recommended strategy for setting up schema descriptions. For example tables
  and the respective schemas, see the vignette.</p>
<p></p><ol><li><p><em>Variables</em>: Clarify which are the identifying
  variables and which are the observed variables. Make sure not to mistake a
  listed observed variable as identifying variable.</p></li>
<li><p><em>Clusters</em>: Determine whether there are clusters and if so, find
  the origin (top left cell) of each cluster and provide the required
  information in <code><a href="setCluster.html">setCluster</a>(top = ..., left =
  ...)</code>. It is advised to treat a table that contains meta-data in the top
  rows as cluster, as this is often the case with implicit variables. All
  variables need to be specified in each cluster (in case clusters are all
  organised in the same arrangement), or <code>relative = TRUE</code> can be used.
  Data may be organised into clusters a) whenever a set of variables occurs
  more than once in the same table, nested into another variable, or b) when
  the data are organised into separate spreadsheets or files according to one
  of the variables (depending on the context, these issues can also be solved
  differently). In both cases the variable responsible for clustering (the
  cluster ID) can be either an identifying variable, or a categorical
  observed variable:</p><ul><li><p>in case the cluster ID is an identifying variable, provide its name
  in <code><a href="setCluster.html">setCluster(id = ...)</a></code> and specify it as an
  identifying variable (<code><a href="setIDVar.html">setIDVar</a></code>)</p></li>
<li><p>in case it is a observed variable, provide simply
  <code><a href="setCluster.html">setCluster</a>(..., id = "observed")</code>.</p></li>
</ul></li>
<li><p><em>Meta-data</em>: Provide potentially information about the format
  (<code><a href="setFormat.html">setFormat</a></code>).</p></li>
<li><p><em>Identifying variables</em>: Determine the following:</p><ul><li><p>is the variable available at all? This is particularly important when
  the data are split up into tables that are in spreadsheets or files. Often
  the variable that splits up the data (and thus identifies the clusters) is
  not explicitly available in the table anymore. In such a case, provide the
  value in <code><a href="setIDVar.html">setIDVar</a>(..., value = ...)</code>.</p></li>
<li><p>all columns in which the variable values sit.</p></li>
<li><p>in case the variable is in several columns, determine additionally
  the row in which its values sit. In this case, the values will look like
  they are part of a header.</p></li>
<li><p>in case the variable must be split off of another column, provide a
  regular expression that results in the target subset via
  <code><a href="setIDVar.html">setIDVar</a>(..., split = ...)</code>.</p></li>
<li><p>in case the variable is distinct from the main table, provide the
  explicit (non-relative) position and set
  <code><a href="setIDVar.html">setIDVar</a>(..., distinct = TRUE)</code>.</p></li>
</ul></li>
<li><p><em>Observed variable</em>: Determine the following:</p><ul><li><p>all columns in which the values of the variable sit.</p></li>
<li><p>the unit and conversion factor.</p></li>
<li><p>in case the variable is not tidy, go through the following cases one
  after the other:</p><ul><li><p>in case the variable is nested in a wide identifying variable,
  determine in addition to the columns in which the values sit also the rows
  in which the <em>variable name</em> sits.</p></li>
<li><p>in case the names of the variable are given as a value of an
  identifying variable, give the column name as
  <code><a href="setObsVar.html">setObsVar</a>(..., key = ...)</code>, together with the name
  of the respective observed variable (as it appears in the table) in
  <code>values</code>.</p></li>
<li><p>in case the name of the variable is the ID of clusters, specify
  <code><a href="setObsVar.html">setObsVar</a>(..., key = "cluster", value = ...)</code>,
  where <code>values</code> has the cluster number the variable refers to.</p></li>
</ul></li>
</ul></li>
</ol></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://orcid.org/0000-0002-2958-0796" class="external-link">Steffen Ehrmann</a>, <a href="https://orcid.org/0000-0003-3927-5856" class="external-link">Carsten Meyer</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

